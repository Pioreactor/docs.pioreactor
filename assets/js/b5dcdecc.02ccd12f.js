"use strict";(globalThis.webpackChunkpioreactor=globalThis.webpackChunkpioreactor||[]).push([[7576],{4925(e,n,o){o.r(n),o.d(n,{assets:()=>a,contentTitle:()=>l,default:()=>p,frontMatter:()=>t,metadata:()=>s,toc:()=>c});var r=o(74848),i=o(28453);const t={title:"Development on a Raspberry Pi",slug:"/pi-development",hide_table_of_contents:!0},l=void 0,s={id:"Development/development-on-Raspberry-Pi",title:"Development on a Raspberry Pi",description:"Developing without hardware",source:"@site/developer-guide/30-Development/02-development-on-Raspberry-Pi.md",sourceDirName:"30-Development",slug:"/pi-development",permalink:"/developer-guide/pi-development",draft:!1,unlisted:!1,tags:[],version:"current",sidebarPosition:2,frontMatter:{title:"Development on a Raspberry Pi",slug:"/pi-development",hide_table_of_contents:!0},sidebar:"tutorialSidebar",previous:{title:"Local development of Pioreactor",permalink:"/developer-guide/local-development"},next:{title:"The Big Architecture Picture",permalink:"/developer-guide/architecture"}},a={},c=[{value:"Developing without hardware",id:"developing-without-hardware",level:3}];function d(e){const n={a:"a",code:"code",h3:"h3",li:"li",ol:"ol",p:"p",pre:"pre",ul:"ul",...(0,i.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(n.h3,{id:"developing-without-hardware",children:"Developing without hardware"}),"\n",(0,r.jsx)(n.p,{children:"If you have a Raspberry Pi available, you can quickly boot up a near-exact environment to a Pioreactor. We can mock out the hardware needed, but everything else will work: networking, the Pioreactor UI, MQTT, running jobs, plugins, etc."}),"\n",(0,r.jsxs)(n.ol,{children:["\n",(0,r.jsxs)(n.li,{children:["Install the Pioreactor software on to a microSD card by following the instructions ",(0,r.jsx)(n.a,{href:"/user-guide/software-set-up",children:"here"}),"."]}),"\n",(0,r.jsx)(n.li,{children:"Power the Raspberry Pi. Since there's no HAT hardware, there won't be a blue blinking LED. The Raspberry Pi will still connect to the network you provided in the setup."}),"\n",(0,r.jsxs)(n.li,{children:["SSH into the Raspberry Pi. ",(0,r.jsx)(n.a,{href:"/user-guide/accessing-raspberry-pi",children:"Instructions on how to SSH in"}),".","\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["You should also be able to visit ",(0,r.jsx)(n.a,{href:"http://pioreactor.local",children:"http://pioreactor.local"})]}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:['Once SSH\'ed in, we need to add some "mocking" packages. Enter the following:',"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.code,{children:"sudo pip3 install fake-rpi"})}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(n.p,{children:["The environment variable ",(0,r.jsx)(n.code,{children:"TESTING"}),' will determine if the Pioreactor should run in "testing" mode (i.e. mock out hardware required, and fake some data). We also need to specify the location of the ',(0,r.jsx)(n.code,{children:"config.ini"})," file with the ",(0,r.jsx)(n.code,{children:"GLOBAL_CONFIG"})," env variable. For example, we can mock the stirring job by entering:"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{children:"\nTESTING=1 GLOBAL_CONFIG=/home/pioreactor/.pioreactor/config.ini pio run stirring\n\n"})}),"\n",(0,r.jsx)(n.p,{children:"However, the experiment needs to be mocked out too:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{children:'TESTING=1 \\\nGLOBAL_CONFIG=/home/pioreactor/.pioreactor/config.ini \\\nEXPERMENT="Demo Experiment" \\\npio run stirring\n'})}),"\n",(0,r.jsxs)(n.p,{children:["That's a lot of typing variables, so you could move these environment variables to ",(0,r.jsx)(n.code,{children:"~/.profile"}),":"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{children:"nano ~/.profile\n"})}),"\n",(0,r.jsx)(n.p,{children:"And add anywhere:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{children:'export TESTING=1\nexport GLOBAL_CONFIG=/home/pioreactor/.pioreactor/config.ini\nexport EXPERMENT="Demo Experiment"\n'})}),"\n",(0,r.jsx)(n.p,{children:"And finally enter:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{children:"source ~/.profile\n"})}),"\n",(0,r.jsxs)(n.p,{children:["Now you can do ",(0,r.jsx)(n.code,{children:"pio run stirring"})," without having to enter in the environment variables."]})]})}function p(e={}){const{wrapper:n}={...(0,i.R)(),...e.components};return n?(0,r.jsx)(n,{...e,children:(0,r.jsx)(d,{...e})}):d(e)}},28453(e,n,o){o.d(n,{R:()=>l,x:()=>s});var r=o(96540);const i={},t=r.createContext(i);function l(e){const n=r.useContext(t);return r.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function s(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:l(e.components),r.createElement(t.Provider,{value:n},e.children)}}}]);