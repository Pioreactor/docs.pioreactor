"use strict";(self.webpackChunkpioreactor=self.webpackChunkpioreactor||[]).push([[3837],{3905:function(e,t,n){n.d(t,{Zo:function(){return p},kt:function(){return d}});var r=n(7294);function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function a(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach((function(t){o(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function c(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}var s=r.createContext({}),u=function(e){var t=r.useContext(s),n=t;return e&&(n="function"==typeof e?e(t):a(a({},t),e)),n},p=function(e){var t=u(e.components);return r.createElement(s.Provider,{value:t},e.children)},m={inlineCode:"code",wrapper:function(e){var t=e.children;return r.createElement(r.Fragment,{},t)}},l=r.forwardRef((function(e,t){var n=e.components,o=e.mdxType,i=e.originalType,s=e.parentName,p=c(e,["components","mdxType","originalType","parentName"]),l=u(n),d=o,h=l["".concat(s,".").concat(d)]||l[d]||m[d]||i;return n?r.createElement(h,a(a({ref:t},p),{},{components:n})):r.createElement(h,a({ref:t},p))}));function d(e,t){var n=arguments,o=t&&t.mdxType;if("string"==typeof e||o){var i=n.length,a=new Array(i);a[0]=l;var c={};for(var s in t)hasOwnProperty.call(t,s)&&(c[s]=t[s]);c.originalType=e,c.mdxType="string"==typeof e?e:o,a[1]=c;for(var u=2;u<i;u++)a[u]=n[u];return r.createElement.apply(null,a)}return r.createElement.apply(null,n)}l.displayName="MDXCreateElement"},6843:function(e,t,n){n.r(t),n.d(t,{frontMatter:function(){return c},contentTitle:function(){return s},metadata:function(){return u},toc:function(){return p},default:function(){return l}});var r=n(7462),o=n(3366),i=(n(7294),n(3905)),a=["components"],c={},s="Using the StemmaQT / Qwiic connector",u={unversionedId:"Extending your Pioreactor/Using the StemmaQT Qwiic connector",id:"Extending your Pioreactor/Using the StemmaQT Qwiic connector",title:"Using the StemmaQT / Qwiic connector",description:"The Pioreactor HAT comes with a connector for the StemmaQT / Qwiic connector that can be used to attack additional hardware for your Pioreactor. See image below:",source:"@site/user_guide/03-Extending your Pioreactor/11-Using the StemmaQT Qwiic connector.md",sourceDirName:"03-Extending your Pioreactor",slug:"/Extending your Pioreactor/Using the StemmaQT Qwiic connector",permalink:"/user_guide/Extending your Pioreactor/Using the StemmaQT Qwiic connector",tags:[],version:"current",sidebarPosition:11,frontMatter:{},sidebar:"tutorialSidebar",previous:{title:"Using a peristaltic pump with your Pioreactor",permalink:"/user_guide/Extending your Pioreactor/Peristaltic pumps"},next:{title:"Dosing automations",permalink:"/user_guide/Automations/Dosing Automations"}},p=[{value:"Example",id:"example",children:[],level:3}],m={toc:p};function l(e){var t=e.components,c=(0,o.Z)(e,a);return(0,i.kt)("wrapper",(0,r.Z)({},m,c,{components:t,mdxType:"MDXLayout"}),(0,i.kt)("h1",{id:"using-the-stemmaqt--qwiic-connector"},"Using the StemmaQT / Qwiic connector"),(0,i.kt)("p",null,"The Pioreactor HAT comes with a connector for the StemmaQT / Qwiic connector that can be used to attack additional hardware for your Pioreactor. See image below:"),(0,i.kt)("p",null," ",(0,i.kt)("img",{src:n(2574).Z})),(0,i.kt)("div",{className:"admonition admonition-info alert alert--info"},(0,i.kt)("div",{parentName:"div",className:"admonition-heading"},(0,i.kt)("h5",{parentName:"div"},(0,i.kt)("span",{parentName:"h5",className:"admonition-icon"},(0,i.kt)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"14",height:"16",viewBox:"0 0 14 16"},(0,i.kt)("path",{parentName:"svg",fillRule:"evenodd",d:"M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"}))),"info")),(0,i.kt)("div",{parentName:"div",className:"admonition-content"},(0,i.kt)("p",{parentName:"div"},"What is StemmaQT / Qwiic? It's simply a standardized physical connector, the JST SH, with electronic connections to 3.3V, GND and I\xb2C. Many other hardware design companies, like Adafruit and SparkFun, implement StemmaQT / Qwiic on their boards, which expands the StemmaQT / Qwiic ecosystem. "))),(0,i.kt)("h3",{id:"example"},"Example"),(0,i.kt)("p",null,"Suppose you are placing your Pioreactor in a CO\u2082 incubator, and want to record the CO\u2082 concentration of the incubator. The incubator does monitor the CO\u2082 concentration, but generally this isn't accessible to other tools. What you can do is purchase an external CO\u2082 sensor with StemmaQT / Qwiic connectors, like the ",(0,i.kt)("a",{parentName:"p",href:"https://www.adafruit.com/product/5187"},"SCD-40"),", and attach it to your Pioreactor. The Pioreactor can now read from the CO\u2082 sensor, and build logging, event-loops, plotting, etc. around the measurements. "),(0,i.kt)("p",null,"To read from the sensor, a ",(0,i.kt)("a",{parentName:"p",href:"/user_guide/Extending%20your%20Pioreactor/Using%20community-built%20plugins"},"plugin")," may be available for it, or you can write a simple Python script like so:"),(0,i.kt)("div",{className:"admonition admonition-note alert alert--secondary"},(0,i.kt)("div",{parentName:"div",className:"admonition-heading"},(0,i.kt)("h5",{parentName:"div"},(0,i.kt)("span",{parentName:"h5",className:"admonition-icon"},(0,i.kt)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"14",height:"16",viewBox:"0 0 14 16"},(0,i.kt)("path",{parentName:"svg",fillRule:"evenodd",d:"M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"}))),"note")),(0,i.kt)("div",{parentName:"div",className:"admonition-content"},(0,i.kt)("p",{parentName:"div"},"You'll first need to install the Python library:\n",(0,i.kt)("inlineCode",{parentName:"p"},"sudo pip3 install adafruit-circuitpython-scd4x")))),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-python"},'import sleep\nimport board\nimport adafruit_scd4x\n\nfrom pioreactor.pubsub import publish\nfrom pioreactor.whoami import get_unit_name, get_latest_experiment_name\n\ni2c = board.I2C()\nscd4x = adafruit_scd4x.SCD4X(i2c)\n\nexp = get_latest_experiment_name()\nunit = get_unit_name()\n\nscd4x.start_periodic_measurement()\n\nwhile True:\n    if scd4x.data_ready:\n        \n        print("CO2: %d ppm" % scd4x.CO2)\n        publish(f"pioreactor/{unit}/{exp}/scd4x/co2", scd4x.CO2, retain=True)\n\n        print("Temperature: %0.1f *C" % scd4x.temperature)\n        publish(f"pioreactor/{unit}/{exp}/scd4x/temperature", scd4x.temperature, retain=True)\n\n        print("Humidity: %0.1f %%" % scd4x.relative_humidity)\n        publish(f"pioreactor/{unit}/{exp}/scd4x/relative_humidity", scd4x.relative_humidity, retain=True)\n\n        print()\n    time.sleep(1)\n\n')),(0,i.kt)("p",null,"Running this on your Pioreactor will publish the data to MQTT, and thus be available to any other bioreactor job. "),(0,i.kt)("p",null,"You could also turn this into a ",(0,i.kt)("a",{parentName:"p",href:"/developer_guide/Background%20Jobs/How%20background%20jobs%20work"},"background job")," to make it even easier to use!"))}l.isMDXComponent=!0},2574:function(e,t,n){t.Z=n.p+"assets/images/stemma_qt-3d5f9560ca2fb4bf00f23778e0057eac.png"}}]);