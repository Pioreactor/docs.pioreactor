"use strict";(globalThis.webpackChunkpioreactor=globalThis.webpackChunkpioreactor||[]).push([[9191],{581(e,r,i){i.r(r),i.d(r,{assets:()=>a,contentTitle:()=>s,default:()=>c,frontMatter:()=>o,metadata:()=>l,toc:()=>d});var n=i(74848),t=i(28453);const o={title:"Creating and editing experiment profiles",slug:"/create-edit-experiment-profiles",hide_table_of_contents:!0},s=void 0,l={id:"Extending your Pioreactor/Experiment Profiles/create-edit-experiment-profiles",title:"Creating and editing experiment profiles",description:'Experiment profiles choreograph everything that happens across your cluster: which jobs start, when they update, and when they stop. This page walks through creating your first "hello world" profile in the UI, explains how to edit it, and points you to the raw files if you prefer the command line.',source:"@site/user-guide/03-Extending your Pioreactor/04-Experiment Profiles/02-create-edit-experiment-profiles.md",sourceDirName:"03-Extending your Pioreactor/04-Experiment Profiles",slug:"/create-edit-experiment-profiles",permalink:"/user-guide/create-edit-experiment-profiles",draft:!1,unlisted:!1,tags:[],version:"current",sidebarPosition:2,frontMatter:{title:"Creating and editing experiment profiles",slug:"/create-edit-experiment-profiles",hide_table_of_contents:!0},sidebar:"tutorialSidebar",previous:{title:"Intro to experiment profiles",permalink:"/user-guide/experiment-profiles"},next:{title:"Running and stopping experiment profiles",permalink:"/user-guide/start-stop-experiment-profiles"}},a={},d=[{value:"Before you begin",id:"before-you-begin",level:2},{value:"Build your first profile in the UI",id:"build-your-first-profile-in-the-ui",level:2},{value:"How the example works",id:"how-the-example-works",level:3},{value:"Edit and iterate on a profile",id:"edit-and-iterate-on-a-profile",level:2},{value:"Prefer the command line?",id:"prefer-the-command-line",level:2}];function h(e){const r={a:"a",code:"code",h2:"h2",h3:"h3",img:"img",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,t.R)(),...e.components};return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(r.p,{children:'Experiment profiles choreograph everything that happens across your cluster: which jobs start, when they update, and when they stop. This page walks through creating your first "hello world" profile in the UI, explains how to edit it, and points you to the raw files if you prefer the command line.'}),"\n",(0,n.jsx)(r.h2,{id:"before-you-begin",children:"Before you begin"}),"\n",(0,n.jsxs)(r.ul,{children:["\n",(0,n.jsx)(r.li,{children:"Open the experiment you want to control in the UI. Profiles always run in the context of the currently selected experiment."}),"\n",(0,n.jsx)(r.li,{children:"Make sure every Pioreactor that should receive actions is assigned to that experiment and is online."}),"\n",(0,n.jsxs)(r.li,{children:["Decide on a short, descriptive filename (for example ",(0,n.jsx)(r.code,{children:"hello-world.yaml"}),"). The file is stored on the leader under ",(0,n.jsx)(r.code,{children:"~/.pioreactor/experiment_profiles/"}),"."]}),"\n"]}),"\n",(0,n.jsx)(r.h2,{id:"build-your-first-profile-in-the-ui",children:"Build your first profile in the UI"}),"\n",(0,n.jsxs)(r.ol,{children:["\n",(0,n.jsxs)(r.li,{children:["In the sidebar, select ",(0,n.jsx)(r.strong,{children:"Profiles \u2192 Create new profile"}),"."]}),"\n",(0,n.jsxs)(r.li,{children:["Enter the filename (omit the ",(0,n.jsx)(r.code,{children:".yaml"})," extension\u2014Pioreactor adds it for you)."]}),"\n",(0,n.jsx)(r.li,{children:"Replace the placeholder YAML with the following starter profile, then customize the commented lines for your cluster:"}),"\n"]}),"\n",(0,n.jsx)(r.pre,{children:(0,n.jsx)(r.code,{className:"language-yaml",children:'experiment_profile_name: hello-world-stirring\nmetadata:\n  author: "Your name"\n  description: Kick off stirring everywhere and record OD on a specific worker.\n\ncommon:\n  jobs:\n    stirring:\n      actions:\n        - type: start\n          t: 0\n          options:\n            target_rpm: 600\n\npioreactors:\n  pio001:  # Replace with your worker id\n    jobs:\n      od_reading:\n        actions:\n          - type: start\n            t: 0\n          - type: stop\n            t: 1h\n'})}),"\n",(0,n.jsxs)(r.ol,{start:"4",children:["\n",(0,n.jsxs)(r.li,{children:["Click ",(0,n.jsx)(r.strong,{children:"Search jobs and automations"})," if you want to insert additional sample actions\u2014results paste directly into the editor."]}),"\n",(0,n.jsxs)(r.li,{children:["Choose ",(0,n.jsx)(r.strong,{children:"Save"}),". The profile appears immediately under ",(0,n.jsx)(r.strong,{children:"Available profiles"}),", ready to run with ",(0,n.jsx)(r.strong,{children:"Start profile"}),"."]}),"\n"]}),"\n",(0,n.jsx)(r.p,{children:(0,n.jsx)(r.img,{alt:"Creating a hello-world profile in the Pioreactor UI",src:i(83183).A+"",width:"3152",height:"1648"})}),"\n",(0,n.jsx)(r.h3,{id:"how-the-example-works",children:"How the example works"}),"\n",(0,n.jsxs)(r.ul,{children:["\n",(0,n.jsxs)(r.li,{children:[(0,n.jsx)(r.code,{children:"common"})," tasks run for ",(0,n.jsx)(r.strong,{children:"every"})," worker in the experiment. Here we start the stirring job everywhere at ",(0,n.jsx)(r.code,{children:"0"})," time elapsed."]}),"\n",(0,n.jsxs)(r.li,{children:[(0,n.jsx)(r.code,{children:"pioreactors"})," lets you target individual workers. Swap ",(0,n.jsx)(r.code,{children:"pio001"})," for your unit name (the UI autocompletes known workers) to start and stop OD readings only on that Pioreactor."]}),"\n",(0,n.jsxs)(r.li,{children:[(0,n.jsx)(r.code,{children:"t"})," is relative to when the profile starts. Use hours by default (",(0,n.jsx)(r.code,{children:"1"}),' means "one hour after launch") or add units like ',(0,n.jsx)(r.code,{children:"30s"}),", ",(0,n.jsx)(r.code,{children:"2m"}),", ",(0,n.jsx)(r.code,{children:"1h"}),", or ",(0,n.jsx)(r.code,{children:"2d"}),"."]}),"\n",(0,n.jsx)(r.li,{children:"You can add as many jobs as you like. Keep related actions in chronological order so they are easy to read later."}),"\n"]}),"\n",(0,n.jsx)(r.h2,{id:"edit-and-iterate-on-a-profile",children:"Edit and iterate on a profile"}),"\n",(0,n.jsxs)(r.ol,{children:["\n",(0,n.jsxs)(r.li,{children:["Go back to ",(0,n.jsx)(r.strong,{children:"Profiles"}),", pick the file from ",(0,n.jsx)(r.strong,{children:"Available profiles"}),", and click ",(0,n.jsx)(r.strong,{children:"Edit"}),"."]}),"\n",(0,n.jsx)(r.li,{children:"Adjust the YAML\u2014validation hints appear directly under the editor if you break the schema."}),"\n",(0,n.jsxs)(r.li,{children:["Select ",(0,n.jsx)(r.strong,{children:"Save"}),". The file in ",(0,n.jsx)(r.code,{children:"~/.pioreactor/experiment_profiles/<filename>.yaml"})," is overwritten."]}),"\n",(0,n.jsxs)(r.li,{children:["Use ",(0,n.jsx)(r.strong,{children:"Duplicate profile"})," when you want to branch an idea without touching the original, or ",(0,n.jsx)(r.strong,{children:"View source code"})," for a read-only copy in a new tab."]}),"\n"]}),"\n",(0,n.jsx)(r.p,{children:(0,n.jsx)(r.img,{alt:"Editing an existing profile showing the Save button",src:i(70804).A+"",width:"3152",height:"1648"})}),"\n",(0,n.jsx)(r.h2,{id:"prefer-the-command-line",children:"Prefer the command line?"}),"\n",(0,n.jsx)(r.p,{children:"Profiles are plain text. You can edit them locally on the leader with any editor:"}),"\n",(0,n.jsx)(r.pre,{children:(0,n.jsx)(r.code,{className:"language-bash",children:"nano ~/.pioreactor/experiment_profiles/hello-world.yaml\n"})}),"\n",(0,n.jsxs)(r.p,{children:["After saving, return to the UI and refresh the Profiles page\u2014your changes load instantly. Keep the ",(0,n.jsx)(r.a,{href:"/user-guide/experiment-profiles-schema",children:"Experiment profile schema and syntax"})," reference open for the full list of jobs, actions, and options."]})]})}function c(e={}){const{wrapper:r}={...(0,t.R)(),...e.components};return r?(0,n.jsx)(r,{...e,children:(0,n.jsx)(h,{...e})}):h(e)}},28453(e,r,i){i.d(r,{R:()=>s,x:()=>l});var n=i(96540);const t={},o=n.createContext(t);function s(e){const r=n.useContext(o);return n.useMemo(function(){return"function"==typeof e?e(r):{...r,...e}},[r,e])}function l(e){let r;return r=e.disableParentContext?"function"==typeof e.components?e.components(t):e.components||t:s(e.components),n.createElement(o.Provider,{value:r},e.children)}},70804(e,r,i){i.d(r,{A:()=>n});const n=i.p+"assets/images/edit-profile-highlight-2a37ef1a9bf47f884988e71fea4c3d49.png"},83183(e,r,i){i.d(r,{A:()=>n});const n=i.p+"assets/images/create-profile-hello-world-e0879c378e2c5136f46d6d0b8fbb05a1.png"}}]);