"use strict";(globalThis.webpackChunkpioreactor=globalThis.webpackChunkpioreactor||[]).push([[9393],{28453(e,t,i){i.d(t,{R:()=>r,x:()=>h});var n=i(96540);const o={},s=n.createContext(o);function r(e){const t=n.useContext(s);return n.useMemo(function(){return"function"==typeof e?e(t):{...t,...e}},[t,e])}function h(e){let t;return t=e.disableParentContext?"function"==typeof e.components?e.components(o):e.components||o:r(e.components),n.createElement(s.Provider,{value:t},e.children)}},93773(e,t,i){i.r(t),i.d(t,{assets:()=>a,contentTitle:()=>h,default:()=>d,frontMatter:()=>r,metadata:()=>n,toc:()=>l});const n=JSON.parse('{"id":"Troubleshooting/Self-test reference","title":"Self-test reference","description":"What each self-test check means and how to troubleshoot failures.","source":"@site/user-guide/50-Troubleshooting/Self-test reference.md","sourceDirName":"50-Troubleshooting","slug":"/self-test-reference","permalink":"/user-guide/self-test-reference","draft":false,"unlisted":false,"tags":[],"version":"current","frontMatter":{"title":"Self-test reference","sidebar_label":"Self-test reference","description":"What each self-test check means and how to troubleshoot failures.","slug":"/self-test-reference"},"sidebar":"tutorialSidebar","previous":{"title":"Power and restarts","permalink":"/user-guide/troubleshooting-power"},"next":{"title":"Stirring","permalink":"/user-guide/troubleshooting-stirring"}}');var o=i(74848),s=i(28453);const r={title:"Self-test reference",sidebar_label:"Self-test reference",description:"What each self-test check means and how to troubleshoot failures.",slug:"/self-test-reference"},h=void 0,a={},l=[{value:"What the self-test checks (and what to do if something fails)",id:"what-the-self-test-checks-and-what-to-do-if-something-fails",level:2}];function c(e){const t={a:"a",code:"code",h2:"h2",li:"li",p:"p",strong:"strong",ul:"ul",...(0,s.R)(),...e.components};return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(t.p,{children:"This page explains each self-test check and what to do if it fails."}),"\n",(0,o.jsx)(t.h2,{id:"what-the-self-test-checks-and-what-to-do-if-something-fails",children:"What the self-test checks (and what to do if something fails)"}),"\n",(0,o.jsxs)(t.p,{children:[(0,o.jsx)(t.strong,{children:"Pioreactor HAT is detected"})," checks if the Pioreactor HAT is correctly placed on top of the Raspberry Pi. A non-trivial failure here suggests a problem connection between the HAT and the RPi, a failure with the i2c channel, or a failure with the RP2040 chip on the HAT. If ",(0,o.jsx)(t.strong,{children:"Heating PCB is detected"})," also fails, try disconnecting the Heater PCB flat-flex cable from the HAT (unlock and pull straight out), and trying the test again."]}),"\n",(0,o.jsxs)(t.p,{children:[(0,o.jsx)(t.strong,{children:"Photodiodes are responsive to IR LED"})," checks to ensure that the IR photodiode(s) have a linear relationship with the IR LED's output. The linear relationship is important. Common reasons why this test fails include:"]}),"\n",(0,o.jsxs)(t.ul,{children:["\n",(0,o.jsx)(t.li,{children:"Not enough light is entering the PD position (see below for resolutions)"}),"\n",(0,o.jsx)(t.li,{children:"The IR LED connected to the the wrong LED output. Make sure that the IR LED is identified correctly in the config.ini"}),"\n",(0,o.jsx)(t.li,{children:"A loose (or absent) connection to the Pioreactor HAT, either in the photodiode(s) or the IR LED."}),"\n"]}),"\n",(0,o.jsxs)(t.p,{children:["The test will also report any valid IR LED and photodiode relationships in the dialog box. For example, ",(0,o.jsx)(t.code,{children:"IR -> REF"})," means that the REF photodiode has a linear relationship with the IR LED. Similarly, ",(0,o.jsx)(t.code,{children:"IR -> 45"})," means the the photodiode in the 45 deg pocket has a linear relationship with the IR LED. The absence of a relationship here can tell you about what might be wrong."]}),"\n",(0,o.jsx)(t.p,{children:"Tips:"}),"\n",(0,o.jsxs)(t.ul,{children:["\n",(0,o.jsx)(t.li,{children:"Try running this test again."}),"\n",(0,o.jsx)(t.li,{children:"Add a slight amount of turbid liquid (milk, culture, tea) to slightly increase the turbidity of the liquid inside. This increases the scatter of the liquid, and will help this test."}),"\n"]}),"\n",(0,o.jsx)(t.p,{children:"If it continues to fail, contact us."}),"\n",(0,o.jsxs)(t.p,{children:[(0,o.jsx)(t.strong,{children:"No ambient IR light detected"})," checks that the photodiodes are detecting a near-0 signal when the IR LED is completely off. This test may fail if a powerful IR signal is shining into or onto the Pioreactor's body (aka the Sun - don't put the Pioreactor in direct sunlight and avoid windows). Also make sure that the caps are on all the Pioreactor's LED pockets."]}),"\n",(0,o.jsxs)(t.p,{children:[(0,o.jsx)(t.strong,{children:"Reference photodiode is the correct magnitude"})," checks, if using the reference photodiode (REF), that the REF signal is less than 0.256 volts when the IR LED is at the level specified in the config.ini's ",(0,o.jsx)(t.code,{children:"[od_config].[ir_led_intensity]"})," section. If this test fails,"]}),"\n",(0,o.jsxs)(t.ul,{children:["\n",(0,o.jsxs)(t.li,{children:["confirm that in your config.ini that ",(0,o.jsx)(t.code,{children:"REF"})," is present for one of the channels under ",(0,o.jsx)(t.code,{children:"[od_config.photodiode_channel]"}),"."]}),"\n",(0,o.jsx)(t.li,{children:"check the positioning of the REF photodiode (should be adjacent the the IR LED, snugly inserted, and with a cap)."}),"\n",(0,o.jsxs)(t.li,{children:["If still failing, try reducing the value in ",(0,o.jsx)(t.code,{children:"[od_config].[ir_led_intensity]"}),"."]}),"\n"]}),"\n",(0,o.jsxs)(t.p,{children:[(0,o.jsx)(t.strong,{children:"Reference photodiode is in the correct position"})," checks, if using the reference photodiode (REF), that the REF cable is inserted into the correct photodiode position (channel 1 or 2). The correct position is provided in the config.ini's ",(0,o.jsx)(t.code,{children:"[od_config.photodiode_channel]"})," section. ",(0,o.jsx)(t.strong,{children:"Note: this is a flakey test, and can fail even when positioned correctly"}),". The test compares the variances of the two signals (from photodiode channels 1 and 2), and the lower variance one is usually the REF. If this test fails,"]}),"\n",(0,o.jsxs)(t.ul,{children:["\n",(0,o.jsx)(t.li,{children:"Is your vial in the Pioreactor? Does your vial have water and a stir bar in it?"}),"\n",(0,o.jsxs)(t.li,{children:["Confirm that in your config.ini that ",(0,o.jsx)(t.code,{children:"REF"})," is present for one of the channels under ",(0,o.jsx)(t.code,{children:"[od_config.photodiode_channel]"}),"."]}),"\n"]}),"\n",(0,o.jsxs)(t.p,{children:[(0,o.jsx)(t.strong,{children:"Photodiode measures near zero signal for clear water"})," checks that a non turbid liquid, like water, doesn't produce a signal (since there is no scatter). ",(0,o.jsx)(t.strong,{children:"This is a new test, and may fail even if everything is okay."})," Check the following: confirm that your vial contains water (or any very clear liquid) and that your signal photodiode is positioned in 45 deg, 90 deg, or 135 deg. This test won't work for 180 deg."]}),"\n",(0,o.jsxs)(t.p,{children:[(0,o.jsx)(t.strong,{children:"Heating PCB is detected"})," checks that the heating PCB is correctly attached to the Pioreactor HAT. A non-trivial failure here suggests a problem when the i2c channel, a loose connection, or damage to the heating PCB. See notes for ",(0,o.jsx)(t.strong,{children:"Pioreactor HAT is detected"}),", too."]}),"\n",(0,o.jsxs)(t.p,{children:[(0,o.jsx)(t.strong,{children:"Heating is responsive"})," checks for a linear relationship between the temperature sensor and the PWM heating system."]}),"\n",(0,o.jsxs)(t.p,{children:[(0,o.jsx)(t.strong,{children:"Stirring RPM is responsive"})," checks for a linear relationship between PWM stirring system and the Hall sensor that measure's RPM. If this fails, check that the stirring power is connected correctly (and in the location specified in config.ini's ",(0,o.jsx)(t.code,{children:"[PWM]"})," section). Another reason for failure is that the magnets are too far away from the base of the vial. See ",(0,o.jsx)(t.a,{href:"/user-guide/troubleshooting-stirring",children:"stirring troubleshooting"}),"."]}),"\n",(0,o.jsxs)(t.p,{children:[(0,o.jsx)(t.strong,{children:"AUX power supply is appropriate value"})," checks that the AUX power voltage is between 0V and 18V. If no AUX power is connected to the Pioreactor, the default voltage is 5V."]})]})}function d(e={}){const{wrapper:t}={...(0,s.R)(),...e.components};return t?(0,o.jsx)(t,{...e,children:(0,o.jsx)(c,{...e})}):c(e)}}}]);