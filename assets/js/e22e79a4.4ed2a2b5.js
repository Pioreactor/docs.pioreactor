"use strict";(self.webpackChunkpioreactor=self.webpackChunkpioreactor||[]).push([[2153],{66497:(e,n,o)=>{o.r(n),o.d(n,{assets:()=>c,contentTitle:()=>i,default:()=>h,frontMatter:()=>t,metadata:()=>a,toc:()=>d});var r=o(85893),s=o(11151);const t={title:"Ngrok",slug:"/ngrok-remote-access"},i=void 0,a={id:"Advanced/remote-access/ngrok",title:"Ngrok",description:"If you would like to expose the Pioreactor UI to view remotely, you can use a service like Ngrok to do so.",source:"@site/user-guide/30-Advanced/02-remote-access/02-ngrok.md",sourceDirName:"30-Advanced/02-remote-access",slug:"/ngrok-remote-access",permalink:"/user-guide/ngrok-remote-access",draft:!1,unlisted:!1,tags:[],version:"current",sidebarPosition:2,frontMatter:{title:"Ngrok",slug:"/ngrok-remote-access"},sidebar:"tutorialSidebar",previous:{title:"Setting up remote access",permalink:"/user-guide/remote-access"},next:{title:"Tailscale",permalink:"/user-guide/tailscale-remote-access"}},c={},d=[{value:"Custom domain (if using Pro plan)",id:"custom-domain-if-using-pro-plan",level:3}];function l(e){const n={a:"a",admonition:"admonition",code:"code",h3:"h3",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",...(0,s.a)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)(n.p,{children:["If you would like to expose the Pioreactor UI to view remotely, you can use a service like ",(0,r.jsx)(n.a,{href:"https://ngrok.com/",children:"Ngrok"})," to do so."]}),"\n",(0,r.jsx)(n.admonition,{type:"caution",children:(0,r.jsxs)(n.p,{children:["This exposes your Pioreactor UI and therefore your Raspberry Pi over the internet. You should have a strong password on your Raspberry Pi leader, and use a strong password for basic-auth (below). We make our best security effort in our products, ",(0,r.jsx)(n.strong,{children:"however we are not responsible for any damages as a result of exposing your Raspberry Pi online"}),"."]})}),"\n",(0,r.jsx)(n.p,{children:"The following are the steps to take:"}),"\n",(0,r.jsxs)(n.ol,{children:["\n",(0,r.jsxs)(n.li,{children:["Sign up for ",(0,r.jsx)(n.a,{href:"https://ngrok.com/",children:"Ngrok"})," - the free plan is all we need. Make sure to confirm your account through your email."]}),"\n",(0,r.jsxs)(n.li,{children:["Download the app onto the Raspberry Pi: ",(0,r.jsx)(n.code,{children:"wget -O ngrok.tgz https://bin.equinox.io/c/bNyj1mQVY4c/ngrok-v3-stable-linux-arm.tgz"})]}),"\n",(0,r.jsxs)(n.li,{children:["Unzip: ",(0,r.jsx)(n.code,{children:"tar zxvf ngrok.tgz"})]}),"\n",(0,r.jsxs)(n.li,{children:["Make a new folder for the program: ",(0,r.jsx)(n.code,{children:"sudo mkdir /opt/ngrok"})]}),"\n",(0,r.jsxs)(n.li,{children:["Move ",(0,r.jsx)(n.code,{children:"ngrok"})," file there: ",(0,r.jsx)(n.code,{children:"sudo mv ngrok /opt/ngrok"})]}),"\n",(0,r.jsxs)(n.li,{children:["Make a config folder: ",(0,r.jsx)(n.code,{children:"mkdir ~/.ngrok"})]}),"\n",(0,r.jsxs)(n.li,{children:["Fill in the following: ",(0,r.jsx)(n.code,{children:"nano ~/.ngrok/ngrok.yml"}),". ",(0,r.jsx)(n.strong,{children:"We advise changing the basic auth credentials below to something more secure"})]}),"\n"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-yml",children:'authtoken: <add your ngrok auth token here, find in nrgok dashboard>\ntunnels:\n    ui:\n        proto: http\n        addr: 80\n        inspect: false\n        basic_auth: ["pioreactor:vogue-awesome-brag"] #change this\n        schemes:\n            - http\n    ws:\n        proto: http\n        addr: 9001\n        inspect: false\n        schemes:\n            - http\nversion: "2"\nregion: us\n'})}),"\n",(0,r.jsxs)(n.ol,{start:"9",children:["\n",(0,r.jsx)(n.li,{children:"Run in background:"}),"\n"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{children:"nohup /opt/ngrok/ngrok start ui ws --config ~/.ngrok/ngrok.yml &\n"})}),"\n",(0,r.jsxs)(n.p,{children:["Alternatively, if you wish to set this up as a service that will launch on start up, the following ",(0,r.jsx)(n.code,{children:"sudo systemctl enable ngrok"})]}),"\n",(0,r.jsxs)(n.ol,{start:"10",children:["\n",(0,r.jsxs)(n.li,{children:["At ",(0,r.jsx)(n.a,{href:"https://dashboard.ngrok.com/cloud-edge/endpoints",children:"dashboard.ngrok.com"}),', you\'ll see two urls. One of the unique urls should link to your Pioreactor dashboard (when asked for a name and password, use "pioreactor" and "raspberry" respectively).']}),"\n",(0,r.jsxs)(n.li,{children:["The other url is added to your config.ini section ",(0,r.jsx)(n.code,{children:"[remote]"})," ",(0,r.jsx)(n.code,{children:"ws_url"}),"  (under Configuration in the Pioreactor UI), without the ",(0,r.jsx)(n.code,{children:"http://"})," infront. For example:"]}),"\n"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{children:"[remote]\n# see docs at https://docs.pioreactor.com/user-guide/remote-access\nws_url=wss://12a14e3bb.ngrok.io\n"})}),"\n",(0,r.jsxs)(n.ol,{start:"12",children:["\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsx)(n.p,{children:"Save the configuration by clicking [Save]."}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsxs)(n.p,{children:["You're all done! You can now access the Pioreactor UI anywhere at ",(0,r.jsx)(n.code,{children:"http://some_address.ngrok.io"}),". The username and password are the same you added to your yaml file above."]}),"\n"]}),"\n"]}),"\n",(0,r.jsx)(n.h3,{id:"custom-domain-if-using-pro-plan",children:"Custom domain (if using Pro plan)"}),"\n",(0,r.jsxs)(n.p,{children:["Set up a domain in the ngrok UI, and follow the steps to add it to you your domain provider. Then in your ",(0,r.jsx)(n.code,{children:"ngrok.yml"}),", add ",(0,r.jsx)(n.code,{children:"hostname"})," fields, example:"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-yaml",children:'authtoken: ...\ntunnels:\n  ui:\n    proto: http\n    addr: 80\n    inspect: false\n    basic_auth: ["pioreactor:vogue-awesome-brag"]\n    hostname: dev.pioreactor.com\n    bind_tls: false\n    schemes:\n        - http\n  ws:\n    proto: http\n    addr: 9001\n    hostname: dev.ws.pioreactor.com\n    inspect: false\n    bind_tls: false\n    schemes:\n        - http\nversion: "2"\nregion: us\n'})})]})}function h(e={}){const{wrapper:n}={...(0,s.a)(),...e.components};return n?(0,r.jsx)(n,{...e,children:(0,r.jsx)(l,{...e})}):l(e)}},11151:(e,n,o)=>{o.d(n,{Z:()=>a,a:()=>i});var r=o(67294);const s={},t=r.createContext(s);function i(e){const n=r.useContext(t);return r.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function a(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:i(e.components),r.createElement(t.Provider,{value:n},e.children)}}}]);