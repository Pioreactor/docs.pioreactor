"use strict";(self.webpackChunkpioreactor=self.webpackChunkpioreactor||[]).push([[3018],{47802:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>d,contentTitle:()=>l,default:()=>h,frontMatter:()=>s,metadata:()=>r,toc:()=>u});var i=t(85893),o=t(11151),a=t(3901);const s={title:"Dosing automations",slug:"/dosing-automations"},l=void 0,r={id:"Automations/dosing-automations",title:"Dosing automations",description:"When pairing the Pioreactor with dosing pumps, there are new capabilities and experiments you can run. The Pioreactor is pre-programmed with the following dosing automations. In the below automations, values highlighted like so are configurable.",source:"@site/user-guide/29-Automations/02-dosing-automations.md",sourceDirName:"29-Automations",slug:"/dosing-automations",permalink:"/user-guide/dosing-automations",draft:!1,unlisted:!1,tags:[],version:"current",sidebarPosition:2,frontMatter:{title:"Dosing automations",slug:"/dosing-automations"},sidebar:"tutorialSidebar",previous:{title:"Temperature automations",permalink:"/user-guide/temperature-automations"},next:{title:"LED automations",permalink:"/user-guide/led-automations"}},d={},u=[{value:"Available dosing automations",id:"available-dosing-automations",level:2},{value:"Silent",id:"silent",level:3},{value:"Chemostat",id:"chemostat",level:3},{value:"Turbidostat",id:"turbidostat",level:3},{value:"PID Morbidostat",id:"pid-morbidostat",level:3},{value:"Fed batch",id:"fed-batch",level:3},{value:"Useful information for all dosing automations",id:"useful-information-for-all-dosing-automations",level:2},{value:"How does the vial maintain a constant volume throughout operation?",id:"how-does-the-vial-maintain-a-constant-volume-throughout-operation",level:3},{value:"Why does my influx pump only partially add what&#39;s required? What are subdoses?",id:"why-does-my-influx-pump-only-partially-add-whats-required-what-are-subdoses",level:3},{value:"Configuration parameters",id:"configuration-parameters",level:3},{value:"Section <code>[dosing_auomation.config]</code>",id:"section-dosing_auomationconfig",level:4},{value:"Section <code>[bioreactor]</code>",id:"section-bioreactor",level:4}];function c(e){const n={code:"code",em:"em",h2:"h2",h3:"h3",h4:"h4",li:"li",p:"p",strong:"strong",ul:"ul",...(0,o.a)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)(n.p,{children:["When pairing the Pioreactor with dosing pumps, there are new capabilities and experiments you can run. The Pioreactor is pre-programmed with the following dosing automations. In the below automations, values highlighted ",(0,i.jsx)(n.code,{children:"like so"})," are configurable."]}),"\n",(0,i.jsx)(a.Z,{toc:u}),"\n",(0,i.jsx)(n.h2,{id:"available-dosing-automations",children:"Available dosing automations"}),"\n",(0,i.jsx)(n.h3,{id:"silent",children:"Silent"}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Requires:"})," None"]}),"\n",(0,i.jsxs)(n.p,{children:['The silent automation is the simplest automation: doing nothing. The automation will still "wake up" every ',(0,i.jsx)(n.code,{children:"duration"})," minutes, but does nothing."]}),"\n",(0,i.jsx)(n.h3,{id:"chemostat",children:"Chemostat"}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Requires:"})}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsx)(n.p,{children:"2 peristaltic pumps:"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"one media pump"}),"\n",(0,i.jsx)(n.li,{children:"one waste pump"}),"\n"]}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsx)(n.p,{children:"2 liquid containers with luer attachments"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:'one labelled "waste"'}),"\n",(0,i.jsx)(n.li,{children:'one labelled "media"'}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,i.jsxs)(n.p,{children:["The chemostat automation is the second simplest dosing automation. Every ",(0,i.jsx)(n.code,{children:"duration"})," minutes, the media and waste pumps run and exchange ",(0,i.jsx)(n.code,{children:"volume"})," (mL) of liquid inside the Pioreactor. Initially, the culture is growing and consuming nutrients and energy. Eventually, a nutrient will become scarce and will stall growing. Upon a pump refresh, this ",(0,i.jsx)(n.em,{children:"growth-limiting"})," nutrient becomes abundant once again, and the culture can grow, up until consuming all of it again and stalling growth. Thus, the bioreactor enters into a nutrient ",(0,i.jsx)(n.em,{children:"near"}),'-equilibrium (hence the term "chemostat", for "chemical-static"). However, more long-term, because the culture is under an evolutionary pressure to grow, adaptions will occur that will improve the acquisition or utilization of the growth-limiting nutrient.']}),"\n",(0,i.jsx)(n.h3,{id:"turbidostat",children:"Turbidostat"}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Requires:"})}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsx)(n.p,{children:"2 peristaltic pumps:"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"one media pump"}),"\n",(0,i.jsx)(n.li,{children:"one waste pump"}),"\n"]}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsx)(n.p,{children:"2 liquid containers with luer attachments"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:'one labelled "waste"'}),"\n",(0,i.jsx)(n.li,{children:'one labelled "media"'}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,i.jsxs)(n.p,{children:['A turbidostat ("turbidity-static") tries to keep the turbidity (the optical density, or OD), constant over time. This is usually accomplished by taking frequent measurements of the turbidity (every 30 seconds), and performing a set media/waste pump cycle if the optical density (or normalized optical density) exceeds a ',(0,i.jsx)(n.code,{children:"target OD"})," (or ",(0,i.jsx)(n.code,{children:"target nOD"}),"). The amount exchanged is the ",(0,i.jsx)(n.code,{children:"volume"})," parameter (mL). For very fast growing cultures, we recommend a ",(0,i.jsx)(n.code,{children:"volume"})," between 1.0 ml and 2.0 ml."]}),"\n",(0,i.jsxs)(n.p,{children:["This automation will always dose the ",(0,i.jsx)(n.code,{children:"volume"})," parameter, even if it's not enough for the OD to drop below the ",(0,i.jsx)(n.code,{children:"target OD"}),". If that happens, then ",(0,i.jsx)(n.code,{children:"OD > target OD"}),", and so the automation will trigger after the next check (30 seconds)."]}),"\n",(0,i.jsx)(n.h3,{id:"pid-morbidostat",children:"PID Morbidostat"}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Requires:"})}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsx)(n.p,{children:"3 peristaltic pumps:"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"one media pump"}),"\n",(0,i.jsx)(n.li,{children:"one waste pump"}),"\n",(0,i.jsx)(n.li,{children:"one alt media pump"}),"\n"]}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsx)(n.p,{children:"3 liquid containers with luer attachments"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:'one labelled "waste"'}),"\n",(0,i.jsx)(n.li,{children:'one labelled "media"'}),"\n",(0,i.jsx)(n.li,{children:'one labelled "alt media"'}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:'By introducing another pump (labelled "alt media"), another dimension of experiments opens up. We can exploit the short-time scale of adaption in microbes to evolve the culture from thriving in the original media to thriving in the alternative media, or some point in between the two. Think of it as slowly shifting the environment between the two media stocks so that the microbes are under constant evolutionary pressure. This is where the name morbidostat is from: "morbid-static".'}),"\n",(0,i.jsxs)(n.p,{children:["In the Pioreactor software, the transition between environments is controlled by observing the growth rate, and artificially keeping it suppressed (set to be ",(0,i.jsx)(n.code,{children:"target growth rate"}),") by dynamically adjusting the ratio between the original media and the alternative media when a pump cycle is run. A pump cycle is run every ",(0,i.jsx)(n.code,{children:"duration"})," minutes. Another parameter is the ",(0,i.jsx)(n.code,{children:"target OD"}),", which should be low to keep the culture in a state of nutrient abundance (so that the ",(0,i.jsx)(n.em,{children:"primary"})," evolutionary pressure is the alternative media adaptation)."]}),"\n",(0,i.jsx)(n.h3,{id:"fed-batch",children:"Fed batch"}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Requires:"})}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"1 peristaltic pump"}),"\n",(0,i.jsx)(n.li,{children:"A source and sink, with the pump in-between."}),"\n"]}),"\n",(0,i.jsxs)(n.p,{children:["This automation moves a preset amount of ",(0,i.jsx)(n.code,{children:"volume"})," every ",(0,i.jsx)(n.code,{children:"duration"})," minutes using a pump. You choose the start and end points of the tube!"]}),"\n",(0,i.jsx)(n.h2,{id:"useful-information-for-all-dosing-automations",children:"Useful information for all dosing automations"}),"\n",(0,i.jsx)(n.h3,{id:"how-does-the-vial-maintain-a-constant-volume-throughout-operation",children:"How does the vial maintain a constant volume throughout operation?"}),"\n",(0,i.jsxs)(n.p,{children:["When liquid is added, say 1ml, the volume rises an additional 1ml. Then 1ml of liquid is removed via efflux, but ",(0,i.jsx)(n.strong,{children:"then the efflux pump runs again for an additional few seconds"}),". The efflux pump is run for an additional few seconds to eliminate any volume deltas (for example, if the volume added is greater than the volume removed due to pumping errors). Otherwise, the deltas accumulate and the vial can overflow. This additional step helps guarantee that that volume of liquid never exceeds the end of the efflux tube. See ",(0,i.jsx)(n.code,{children:"waste_removal_multiplier"})," parameter below."]}),"\n",(0,i.jsx)(n.h3,{id:"why-does-my-influx-pump-only-partially-add-whats-required-what-are-subdoses",children:"Why does my influx pump only partially add what's required? What are subdoses?"}),"\n",(0,i.jsxs)(n.p,{children:["To further avoid overflow, we limit how much liquid is added in a single pump cycle. If the amount of liquid to be added is greater than the ",(0,i.jsx)(n.code,{children:"max_dose_volume"}),", then the liquid is divided into smaller doses (halved until those new doses are less than ",(0,i.jsx)(n.code,{children:"max_subdose"})," parameter), with the waste-pump run in between to avoid overflow. These small doses are called ",(0,i.jsx)(n.em,{children:"subdoses"}),". You can change the maximum subdose value with the parameter ",(0,i.jsx)(n.code,{children:"max_subdose"}),", see below."]}),"\n",(0,i.jsx)(n.h3,{id:"configuration-parameters",children:"Configuration parameters"}),"\n",(0,i.jsx)(n.p,{children:"You can edit these parameters in your config.ini files."}),"\n",(0,i.jsxs)(n.h4,{id:"section-dosing_auomationconfig",children:["Section ",(0,i.jsx)(n.code,{children:"[dosing_auomation.config]"})]}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"pause_between_subdoses_seconds"}),": time to wait between doses - this is useful if you want to be sure the newly added liquid is sufficiently mixed before running the waste pump."]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"waste_removal_multiplier"}),": the amount of additional time to run the waste pump after the influx pump has run. This is to ensure that the volume of liquid in the vial never exceeds the end of the efflux tube. Ex: if media ran for ",(0,i.jsx)(n.code,{children:"0.75"})," seconds, then the waste will run for ",(0,i.jsx)(n.code,{children:"waste_removal_multiplier * 0.75 seconds"})]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"max_volume_to_stop"}),": if the internally tracked volume (the ",(0,i.jsx)(n.code,{children:"liquid_volume"})," setting) exceeds this value, the automation will stop. This is a safety feature to prevent overflow."]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"max_subdose"}),": the maximum volume to add in a single dose. If the volume to add is greater than this value, the volume will be divided into smaller doses."]}),"\n"]}),"\n",(0,i.jsxs)(n.h4,{id:"section-bioreactor",children:["Section ",(0,i.jsx)(n.code,{children:"[bioreactor]"})]}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"max_volume_ml"}),": determined by the volume that just touches the outflow tube. I.e. if you where to keep running the waste pump, what would the stable volume be."]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"initial_volume_ml"}),": the initial volume of liquid in the vial. This is used to calculate the volume of liquid in the vial at any given time."]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"initial_alt_media_fraction"}),": the initial fraction of the alternative media in the vial. This is used to calculate the volume of alternative media in the vial at any given time."]}),"\n"]})]})}function h(e={}){const{wrapper:n}={...(0,o.a)(),...e.components};return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(c,{...e})}):c(e)}},3901:(e,n,t)=>{t.d(n,{Z:()=>s});t(67294);var i=t(93743);const o={tableOfContentsInline:"tableOfContentsInline_prmo"};var a=t(85893);function s(e){let{toc:n,minHeadingLevel:t,maxHeadingLevel:s}=e;return(0,a.jsx)("div",{className:o.tableOfContentsInline,children:(0,a.jsx)(i.Z,{toc:n,minHeadingLevel:t,maxHeadingLevel:s,className:"table-of-contents",linkClassName:null})})}},93743:(e,n,t)=>{t.d(n,{Z:()=>x});var i=t(67294),o=t(86668);function a(e){const n=e.map((e=>({...e,parentIndex:-1,children:[]}))),t=Array(7).fill(-1);n.forEach(((e,n)=>{const i=t.slice(2,e.level);e.parentIndex=Math.max(...i),t[e.level]=n}));const i=[];return n.forEach((e=>{const{parentIndex:t,...o}=e;t>=0?n[t].children.push(o):i.push(o)})),i}function s(e){let{toc:n,minHeadingLevel:t,maxHeadingLevel:i}=e;return n.flatMap((e=>{const n=s({toc:e.children,minHeadingLevel:t,maxHeadingLevel:i});return function(e){return e.level>=t&&e.level<=i}(e)?[{...e,children:n}]:n}))}function l(e){const n=e.getBoundingClientRect();return n.top===n.bottom?l(e.parentNode):n}function r(e,n){let{anchorTopOffset:t}=n;const i=e.find((e=>l(e).top>=t));if(i){return function(e){return e.top>0&&e.bottom<window.innerHeight/2}(l(i))?i:e[e.indexOf(i)-1]??null}return e[e.length-1]??null}function d(){const e=(0,i.useRef)(0),{navbar:{hideOnScroll:n}}=(0,o.L)();return(0,i.useEffect)((()=>{e.current=n?0:document.querySelector(".navbar").clientHeight}),[n]),e}function u(e){const n=(0,i.useRef)(void 0),t=d();(0,i.useEffect)((()=>{if(!e)return()=>{};const{linkClassName:i,linkActiveClassName:o,minHeadingLevel:a,maxHeadingLevel:s}=e;function l(){const e=function(e){return Array.from(document.getElementsByClassName(e))}(i),l=function(e){let{minHeadingLevel:n,maxHeadingLevel:t}=e;const i=[];for(let o=n;o<=t;o+=1)i.push(`h${o}.anchor`);return Array.from(document.querySelectorAll(i.join()))}({minHeadingLevel:a,maxHeadingLevel:s}),d=r(l,{anchorTopOffset:t.current}),u=e.find((e=>d&&d.id===function(e){return decodeURIComponent(e.href.substring(e.href.indexOf("#")+1))}(e)));e.forEach((e=>{!function(e,t){t?(n.current&&n.current!==e&&n.current.classList.remove(o),e.classList.add(o),n.current=e):e.classList.remove(o)}(e,e===u)}))}return document.addEventListener("scroll",l),document.addEventListener("resize",l),l(),()=>{document.removeEventListener("scroll",l),document.removeEventListener("resize",l)}}),[e,t])}var c=t(39960),h=t(85893);function m(e){let{toc:n,className:t,linkClassName:i,isChild:o}=e;return n.length?(0,h.jsx)("ul",{className:o?void 0:t,children:n.map((e=>(0,h.jsxs)("li",{children:[(0,h.jsx)(c.Z,{to:`#${e.id}`,className:i??void 0,dangerouslySetInnerHTML:{__html:e.value}}),(0,h.jsx)(m,{isChild:!0,toc:e.children,className:t,linkClassName:i})]},e.id)))}):null}const p=i.memo(m);function x(e){let{toc:n,className:t="table-of-contents table-of-contents__left-border",linkClassName:l="table-of-contents__link",linkActiveClassName:r,minHeadingLevel:d,maxHeadingLevel:c,...m}=e;const x=(0,o.L)(),v=d??x.tableOfContents.minHeadingLevel,f=c??x.tableOfContents.maxHeadingLevel,g=function(e){let{toc:n,minHeadingLevel:t,maxHeadingLevel:o}=e;return(0,i.useMemo)((()=>s({toc:a(n),minHeadingLevel:t,maxHeadingLevel:o})),[n,t,o])}({toc:n,minHeadingLevel:v,maxHeadingLevel:f});return u((0,i.useMemo)((()=>{if(l&&r)return{linkClassName:l,linkActiveClassName:r,minHeadingLevel:v,maxHeadingLevel:f}}),[l,r,v,f])),(0,h.jsx)(p,{toc:g,className:t,linkClassName:l,...m})}},11151:(e,n,t)=>{t.d(n,{Z:()=>l,a:()=>s});var i=t(67294);const o={},a=i.createContext(o);function s(e){const n=i.useContext(a);return i.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function l(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(o):e.components||o:s(e.components),i.createElement(a.Provider,{value:n},e.children)}}}]);