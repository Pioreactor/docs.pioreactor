"use strict";(self.webpackChunkpioreactor=self.webpackChunkpioreactor||[]).push([[8563],{34979:(e,n,i)=>{i.r(n),i.d(n,{assets:()=>c,contentTitle:()=>l,default:()=>u,frontMatter:()=>a,metadata:()=>d,toc:()=>h});var s=i(85893),t=i(11151),o=i(67294);function r(){const[e,n]=o.useState(""),[i,t]=o.useState([]);o.useEffect((()=>{(async()=>{try{const e=await fetch("https://api.github.com/repos/pioreactor/pioreactor/releases?per_page=30");if(!e.ok)throw new Error("Failed to fetch releases");const n=(await e.json()).filter((e=>!e.prerelease&&!e.draft)).map((e=>({version:e.tag_name})));t(n)}catch(e){console.error("Error fetching releases:",e)}})()}),[]);return(0,s.jsxs)("div",{children:[(0,s.jsx)("span",{children:" Select version to update to: "}),(0,s.jsxs)("select",{name:"version",onChange:e=>n(e.target.value),style:{width:"100px"},children:[(0,s.jsx)("option",{value:"",children:"version"}),i.map(((e,n)=>(0,s.jsxs)("option",{value:e.version,children:[e.version,0===n?" (latest)":""]},n)))]}),(0,s.jsx)("button",{onClick:()=>{if(e){const n=`https://github.com/Pioreactor/pioreactor/releases/download/${e}/release_${e}.zip`;window.open(n,"_blank")}},disabled:""===e,style:{marginLeft:"10px"},children:"Download release"})]})}const a={title:"Updating the Pioreactor software",slug:"/updating-software",hide_table_of_contents:!0},l=void 0,d={id:"Extending your Pioreactor/updating-software",title:"Updating the Pioreactor software",description:"We publish new software occasionally that fixes bugs, adds new features, and improves performance. You can update your Pioreactor(s) to the latest software from the UI, or from the command line. We highly recommend keeping your Pioreactor software up to date!",source:"@site/user-guide/03-Extending your Pioreactor/20-updating-software.mdx",sourceDirName:"03-Extending your Pioreactor",slug:"/updating-software",permalink:"/user-guide/updating-software",draft:!1,unlisted:!1,tags:[],version:"current",sidebarPosition:20,frontMatter:{title:"Updating the Pioreactor software",slug:"/updating-software",hide_table_of_contents:!0},sidebar:"tutorialSidebar",previous:{title:"Using the StemmaQT/Qwicc connector",permalink:"/user-guide/using-stemma-qt"},next:{title:"Adding the Temperature Expansion Upgrade kit",permalink:"/user-guide/temperature-expansion-kit"}},c={},h=[{value:"Method 1: Updating over the internet",id:"method-1-updating-over-the-internet",level:3},{value:"Installing previous versions or development versions",id:"installing-previous-versions-or-development-versions",level:4},{value:"Method 2: Update using a zip file and the UI",id:"method-2-update-using-a-zip-file-and-the-ui",level:3},{value:"Method 3: Update using a zip file over scp or sftp",id:"method-3-update-using-a-zip-file-over-scp-or-sftp",level:3}];function p(e){const n={a:"a",admonition:"admonition",code:"code",em:"em",h3:"h3",h4:"h4",img:"img",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,t.a)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)(n.p,{children:["We publish new software occasionally that fixes bugs, adds new features, and improves performance. You can update your Pioreactor(s) to the latest software from the UI, or from the command line. ",(0,s.jsx)(n.strong,{children:"We highly recommend keeping your Pioreactor software up to date!"})]}),"\n",(0,s.jsx)(n.h3,{id:"method-1-updating-over-the-internet",children:"Method 1: Updating over the internet"}),"\n",(0,s.jsx)(n.admonition,{type:"info",children:(0,s.jsx)(n.p,{children:"To use this update method, you Raspberry Pi must be able to access the internet. Using a local access point, see method 2 below."})}),"\n",(0,s.jsx)(n.p,{children:'When a new software version is released by our team, you will see a red "badge" in your UI\'s sidebar:'}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.img,{alt:"a red badge is beside the Update link",src:i(67).Z+"",width:"3114",height:"1646"})}),"\n",(0,s.jsxs)(n.p,{children:["Upon visiting the ",(0,s.jsx)(n.em,{children:"Updates"})," page, you can see what version you have installed, and the latest version published by us. You can also read the changelog to see what improvements we've made in the latest releases."]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.img,{src:i(4578).Z+"",width:"3022",height:"1476"})}),"\n",(0,s.jsx)(n.p,{children:"If you'd like to update, click on the \"Update to next release\" button. Updating software doesn't interrupt experiments or activities, but we suggest waiting until between experiments to update."}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.img,{alt:"highlight of the webpage showing what to select to update",src:i(252).Z+"",width:"3022",height:"1476"})}),"\n",(0,s.jsx)(n.p,{children:"Updating from the UI will update all the Pioreactors in your cluster."}),"\n",(0,s.jsx)(n.admonition,{type:"info",children:(0,s.jsxs)(n.p,{children:["The updating process will update to the ",(0,s.jsx)(n.em,{children:"next"})," release, after your current version. So if your current version is 23.4.1, and there are ",(0,s.jsx)(n.em,{children:"two"})," more recent releases, say 23.5.1 and 23.6.1, then the update process will update to 23.5.1. You can run the update process ",(0,s.jsx)(n.em,{children:"again"})," to update to 23.6.1. We do this so that you will get changes folded in from each release we make."]})}),"\n",(0,s.jsx)(n.h4,{id:"installing-previous-versions-or-development-versions",children:"Installing previous versions or development versions"}),"\n",(0,s.jsx)(n.p,{children:"You can install the bleeding-edge software from this page as well. Just select the development build in the drop down. Warning: this version may be unstable (and fun!)"}),"\n",(0,s.jsxs)(n.p,{children:["Similarly, from the ",(0,s.jsx)(n.a,{href:"https://docs.pioreactor.com/user-guide/accessing-raspberry-pi",children:"command line"}),", you can install specific versions. See ",(0,s.jsx)(n.code,{children:"pio update app --help"})," for more."]}),"\n",(0,s.jsx)(n.h3,{id:"method-2-update-using-a-zip-file-and-the-ui",children:"Method 2: Update using a zip file and the UI"}),"\n",(0,s.jsx)(n.p,{children:"Each time we release a new Pioreactor version, we create a bundle of the required files as a zip file. This zip file can be uploaded to your Pioreactor cluster via the UI."}),"\n",(0,s.jsx)(n.admonition,{type:"info",children:(0,s.jsxs)(n.p,{children:["We highly recommend updating incrementally. That is, update to the ",(0,s.jsx)(n.em,{children:"next"})," version, and continue only if it succeeds."]})}),"\n",(0,s.jsxs)(n.ol,{children:["\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsxs)(n.p,{children:["Download the release you wish to update to: ",(0,s.jsx)(r,{})]}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsxs)(n.p,{children:["In the web UI, visit ",(0,s.jsx)(n.em,{children:"Updates"}),'. In the drop down in the top right, select "Update from zip file".']}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsx)(n.p,{children:"Select the zip file from step 1."}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsx)(n.p,{children:"Click update."}),"\n"]}),"\n"]}),"\n",(0,s.jsx)("div",{class:"responsive-video",children:(0,s.jsxs)("video",{controls:!0,children:[(0,s.jsx)("source",{src:"/vid/update_software_zip.mp4",type:"video/mp4"}),(0,s.jsx)(n.p,{children:"Your browser does not support the video tag."})]})}),"\n",(0,s.jsx)(n.h3,{id:"method-3-update-using-a-zip-file-over-scp-or-sftp",children:"Method 3: Update using a zip file over scp or sftp"}),"\n",(0,s.jsxs)(n.ol,{children:["\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsxs)(n.p,{children:["Download the release you wish to update to: ",(0,s.jsx)(r,{})]}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsx)(n.p,{children:"We need a software tool up upload this release to the Pioreactor."}),"\n",(0,s.jsxs)(n.ol,{children:["\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsxs)(n.p,{children:["You can use ",(0,s.jsx)(n.code,{children:"scp"})," on the command line:"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{children:"scp <path to release archive> pioreactor@<leader hostname>.local:/home/pioreactor\n"})}),"\n",(0,s.jsx)(n.p,{children:"Skip to 8. below."}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsx)(n.p,{children:"or a tool like FileZilla. We'll continue with FileZilla below."}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsxs)(n.p,{children:["Download and open ",(0,s.jsx)(n.a,{href:"https://filezilla-project.org/download.php?type=client",children:"FileZilla"}),"."]}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsxs)(n.p,{children:["Connect to the Pioreactor's local-access-point, ",(0,s.jsx)(n.em,{children:"pioreactor"}),"."]}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsx)(n.p,{children:"Enter the following credentials in the top-right:"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:["host: ",(0,s.jsx)(n.code,{children:"pioreactor.local"})," (or, your ",(0,s.jsx)(n.code,{children:"<leader hostname>.local"})," or its IP address)"]}),"\n",(0,s.jsxs)(n.li,{children:["username: ",(0,s.jsx)(n.code,{children:"pioreactor"})]}),"\n",(0,s.jsxs)(n.li,{children:["password: ",(0,s.jsx)(n.code,{children:"raspberry"})]}),"\n",(0,s.jsxs)(n.li,{children:["port: ",(0,s.jsx)(n.code,{children:"22"})]}),"\n"]}),"\n",(0,s.jsxs)(n.p,{children:["Click ",(0,s.jsx)(n.code,{children:"Quickconnect"}),". You should successfully connect to your Pioreactor's Raspberry Pi (and may need to accept a security pop-up)."]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.img,{alt:"filezilla UI connecting to Pioreactor&#39;s Raspberry Pi",src:i(7325).Z+"",width:"3248",height:"1950"})}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsxs)(n.p,{children:["On the left-hand side is your computer's file system. Find the ",(0,s.jsx)(n.code,{children:"release_xx.xx.xx.zip"})," file you downloaded earlier, and double click it to upload to the Raspberry Pi (that filesystem is on the right).\n",(0,s.jsx)(n.img,{alt:"filezilla UI uploading file to Pioreactor",src:i(64361).Z+"",width:"3248",height:"1950"})]}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsxs)(n.p,{children:["You should see a successfully uploaded message, and the file should be present on the right-hand side now. You can close FileZilla.\n",(0,s.jsx)(n.img,{alt:"filezilla UI successfully uploaded file to Pioreactor",src:i(11319).Z+"",width:"3248",height:"1950"})]}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.a,{href:"/user-guide/accessing-raspberry-pi",children:"SSH into your Pioreactor"}),". Now enter:"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{children:"pio update app --source release_xx.xx.xx.zip\n"})}),"\n",(0,s.jsxs)(n.p,{children:["(Of course, replace the ",(0,s.jsx)(n.code,{children:"xx.xx.xx"})," with your version). This will kick off a task to update your software."]}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsx)(n.p,{children:"To update your workers, first we will distribute the release file to all workers:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{children:"pios cp release_xx.xx.xx.zip -y\n"})}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsx)(n.p,{children:"Finally, run the following to update the software on the workers:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{children:"pios update app --source release_xx.xx.xx.zip\n"})}),"\n"]}),"\n"]})]})}function u(e={}){const{wrapper:n}={...(0,t.a)(),...e.components};return n?(0,s.jsx)(n,{...e,children:(0,s.jsx)(p,{...e})}):p(e)}},67:(e,n,i)=>{i.d(n,{Z:()=>s});const s=i.p+"assets/images/badge-297da4f4c7c001ed77aaaef0c2e3a73b.png"},252:(e,n,i)=>{i.d(n,{Z:()=>s});const s=i.p+"assets/images/click_update-c38a5940b2c9dfd609fb3882650ed33a.png"},7325:(e,n,i)=>{i.d(n,{Z:()=>s});const s=i.p+"assets/images/connect_via_filezilla-4baea6ad6d5fca5865c7cf549db6029c.png"},11319:(e,n,i)=>{i.d(n,{Z:()=>s});const s=i.p+"assets/images/successuful_upload-edaf37800b289de114bbda1152911f87.png"},64361:(e,n,i)=>{i.d(n,{Z:()=>s});const s=i.p+"assets/images/upload_file_via_filezilla-2bbf4959e5ddb942db1574e1e93410f1.png"},4578:(e,n,i)=>{i.d(n,{Z:()=>s});const s=i.p+"assets/images/version_installed_vs_latest-e5eeca231d56d0ccfcc810051fcbda4d.png"},11151:(e,n,i)=>{i.d(n,{Z:()=>a,a:()=>r});var s=i(67294);const t={},o=s.createContext(t);function r(e){const n=s.useContext(o);return s.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function a(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(t):e.components||t:r(e.components),s.createElement(o.Provider,{value:n},e.children)}}}]);