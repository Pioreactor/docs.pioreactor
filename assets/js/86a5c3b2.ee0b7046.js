"use strict";(globalThis.webpackChunkpioreactor=globalThis.webpackChunkpioreactor||[]).push([[3461],{28453(e,t,r){r.d(t,{R:()=>s,x:()=>d});var o=r(96540);const n={},i=o.createContext(n);function s(e){const t=o.useContext(i);return o.useMemo(function(){return"function"==typeof e?e(t):{...t,...e}},[t,e])}function d(e){let t;return t=e.disableParentContext?"function"==typeof e.components?e.components(n):e.components||n:s(e.components),o.createElement(i.Provider,{value:t},e.children)}},79847(e,t,r){r.r(t),r.d(t,{assets:()=>a,contentTitle:()=>d,default:()=>h,frontMatter:()=>s,metadata:()=>o,toc:()=>l});const o=JSON.parse('{"id":"Extending your Pioreactor/cluster-management/change-model","title":"Change your Pioreactor model","description":"Adjust the Pioreactor model in the Inventory page and register custom models that appear in the UI.","source":"@site/user-guide/03-Extending your Pioreactor/01-cluster-management/03-change-model.mdx","sourceDirName":"03-Extending your Pioreactor/01-cluster-management","slug":"/Extending your Pioreactor/cluster-management/change-model","permalink":"/user-guide/Extending your Pioreactor/cluster-management/change-model","draft":false,"unlisted":false,"tags":[],"version":"current","sidebarPosition":3,"frontMatter":{"id":"change-model","title":"Change your Pioreactor model","sidebar_label":"Change Pioreactor model","description":"Adjust the Pioreactor model in the Inventory page and register custom models that appear in the UI.","hide_table_of_contents":true},"sidebar":"tutorialSidebar","previous":{"title":"Back up and restore Pioreactor system files","permalink":"/user-guide/backup-system-files"},"next":{"title":"Calibrations","permalink":"/user-guide/calibrations"}}');var n=r(74848),i=r(28453);const s={id:"change-model",title:"Change your Pioreactor model",sidebar_label:"Change Pioreactor model",description:"Adjust the Pioreactor model in the Inventory page and register custom models that appear in the UI.",hide_table_of_contents:!0},d=void 0,a={},l=[{value:"Update a Pioreactor&#39;s model from the UI",id:"update-a-pioreactors-model-from-the-ui",level:2},{value:"Add a custom model",id:"add-a-custom-model",level:2},{value:"Required fields",id:"required-fields",level:3},{value:"Reload the web UI",id:"reload-the-web-ui",level:3},{value:"Troubleshooting",id:"troubleshooting",level:2}];function c(e){const t={code:"code",h2:"h2",h3:"h3",img:"img",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,i.R)(),...e.components};return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(t.h2,{id:"update-a-pioreactors-model-from-the-ui",children:"Update a Pioreactor's model from the UI"}),"\n",(0,n.jsxs)(t.p,{children:["You can update the model that the software uses for each unit from the ",(0,n.jsx)(t.strong,{children:"Inventory"})," page."]}),"\n",(0,n.jsxs)(t.ol,{children:["\n",(0,n.jsxs)(t.li,{children:["Navigate to ",(0,n.jsx)(t.strong,{children:"Inventory"})," in the sidebar."]}),"\n",(0,n.jsxs)(t.li,{children:["Locate the Pioreactor you want to configure and open the ",(0,n.jsx)(t.strong,{children:"Model"})," dropdown."]}),"\n",(0,n.jsx)(t.li,{children:"Pick the correct entry. The change is saved immediately."}),"\n"]}),"\n",(0,n.jsx)(t.p,{children:(0,n.jsx)(t.img,{alt:"Inventory card with the Model dropdown and options highlighted.",src:r(83114).A+"",width:"3152",height:"1648"})}),"\n",(0,n.jsx)(t.p,{children:"Changes to the model update any UI text, configuration safety limits, and workflows that depend on vessel geometry."}),"\n",(0,n.jsx)(t.h2,{id:"add-a-custom-model",children:"Add a custom model"}),"\n",(0,n.jsxs)(t.p,{children:["The UI lists every YAML definition stored in ",(0,n.jsx)(t.code,{children:".pioreactor/models/"}),". Each file represents a single model."]}),"\n",(0,n.jsxs)(t.ol,{children:["\n",(0,n.jsxs)(t.li,{children:["\n",(0,n.jsx)(t.p,{children:"Create the directory if it does not already exist:"}),"\n",(0,n.jsx)(t.pre,{children:(0,n.jsx)(t.code,{className:"language-bash",children:"mkdir -p ~/.pioreactor/models\n"})}),"\n"]}),"\n",(0,n.jsxs)(t.li,{children:["\n",(0,n.jsxs)(t.p,{children:["Add a new YAML file. Use a descriptive file name such as ",(0,n.jsx)(t.code,{children:"my_custom_model.yaml"}),"."]}),"\n",(0,n.jsx)(t.pre,{children:(0,n.jsx)(t.code,{className:"language-yaml",children:'model_name: custom_100ml\nmodel_version: "1.0"\ndisplay_name: "Custom 100 mL, v1.0"\nreactor_capacity_ml: 100.0\nreactor_max_fill_volume_ml: 95.0\nreactor_diameter_mm: 50.0\nmax_temp_to_reduce_heating: 80.0\nmax_temp_to_disable_heating: 85.0\nmax_temp_to_shutdown: 90.0\n'})}),"\n"]}),"\n"]}),"\n",(0,n.jsx)(t.h3,{id:"required-fields",children:"Required fields"}),"\n",(0,n.jsxs)(t.table,{children:[(0,n.jsx)(t.thead,{children:(0,n.jsxs)(t.tr,{children:[(0,n.jsx)(t.th,{children:"Field"}),(0,n.jsx)(t.th,{children:"Description"})]})}),(0,n.jsxs)(t.tbody,{children:[(0,n.jsxs)(t.tr,{children:[(0,n.jsx)(t.td,{children:(0,n.jsx)(t.code,{children:"model_name"})}),(0,n.jsxs)(t.td,{children:["A unique identifier. Use lowercase letters, numbers, and underscores. Example ",(0,n.jsx)(t.code,{children:"pioreactor_20ml"})]})]}),(0,n.jsxs)(t.tr,{children:[(0,n.jsx)(t.td,{children:(0,n.jsx)(t.code,{children:"model_version"})}),(0,n.jsxs)(t.td,{children:["Semantic version string that differentiates variants of the same model. Example: ",(0,n.jsx)(t.code,{children:"1.1"})]})]}),(0,n.jsxs)(t.tr,{children:[(0,n.jsx)(t.td,{children:(0,n.jsx)(t.code,{children:"display_name"})}),(0,n.jsxs)(t.td,{children:["What appears in the UI dropdown. Example: ",(0,n.jsx)(t.code,{children:"Pioreactor 20ml, v1.1"})]})]}),(0,n.jsxs)(t.tr,{children:[(0,n.jsx)(t.td,{children:"Capacity and geometry fields"}),(0,n.jsx)(t.td,{children:"Used by dosing and safety calculations. Provide real measurements in millilitres and millimetres."})]}),(0,n.jsxs)(t.tr,{children:[(0,n.jsx)(t.td,{children:"Temperature limits"}),(0,n.jsx)(t.td,{children:"Guardrails for the heater. Adjust them to match your hardware."})]})]})]}),"\n",(0,n.jsxs)(t.p,{children:["If any field fails validation, the Pioreactor logs an error in ",(0,n.jsx)(t.code,{children:"pioreactor.log"})," and skips the file. Double-check spelling and numeric values if your model does not appear."]}),"\n",(0,n.jsx)(t.h3,{id:"reload-the-web-ui",children:"Reload the web UI"}),"\n",(0,n.jsx)(t.p,{children:"After adding or editing model files, restart the web UI service so it picks up the new definitions:"}),"\n",(0,n.jsx)(t.pre,{children:(0,n.jsx)(t.code,{className:"language-bash",children:"sudo systemctl restart pioreactor-web.target\n"})}),"\n",(0,n.jsxs)(t.p,{children:["Return to the Inventory page and reopen the ",(0,n.jsx)(t.strong,{children:"Model"})," dropdown. Your custom entry should now be available alongside the built-in models."]}),"\n",(0,n.jsx)(t.h2,{id:"troubleshooting",children:"Troubleshooting"}),"\n",(0,n.jsxs)(t.ul,{children:["\n",(0,n.jsxs)(t.li,{children:[(0,n.jsx)(t.strong,{children:"No new dropdown entries:"})," confirm the YAML file lives in ",(0,n.jsx)(t.code,{children:"/home/pioreactor/.pioreactor/models/"})," on the leader and that the file extension is ",(0,n.jsx)(t.code,{children:".yaml"})," or ",(0,n.jsx)(t.code,{children:".yml"}),". Restart the ",(0,n.jsx)(t.code,{children:"pioreactor-web.target"})," service once more."]}),"\n",(0,n.jsxs)(t.li,{children:[(0,n.jsx)(t.strong,{children:"Validation errors in the logs:"})," open ",(0,n.jsx)(t.code,{children:"pioreactor.log"})," or run ",(0,n.jsx)(t.code,{children:"journalctl -u pioreactor-web.target"})," to view the message, then update the YAML file accordingly."]}),"\n",(0,n.jsxs)(t.li,{children:[(0,n.jsx)(t.strong,{children:"Distribute to workers"}),": workers need these files to, so if you've added it to your leader, you can run ",(0,n.jsx)(t.code,{children:"pios cp ~/.pioreactor/models/my_custom_model.yaml"})," to distribute it to workers."]}),"\n",(0,n.jsxs)(t.li,{children:[(0,n.jsx)(t.strong,{children:"Hardware directory in sync:"})," if your hardware definitions live outside the default location, update the contents of ",(0,n.jsx)(t.code,{children:"$DOT_PIOREACTOR/hardware/"})," (typically ",(0,n.jsx)(t.code,{children:"~/.pioreactor/hardware/"}),") so every unit uses the same model metadata."]}),"\n"]})]})}function h(e={}){const{wrapper:t}={...(0,i.R)(),...e.components};return t?(0,n.jsx)(t,{...e,children:(0,n.jsx)(c,{...e})}):c(e)}},83114(e,t,r){r.d(t,{A:()=>o});const o=r.p+"assets/images/inventory-model-dropdown-af8cf9ffaebbb9ab6be5cb5a5ff45935.png"}}]);